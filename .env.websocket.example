# WebSocket Configuration Example
# Copy relevant values to your .env.local file

# ============================================
# Backend Configuration (apps/api)
# ============================================
# WebSocket runs on the same port as the API server
# No additional configuration needed

# Optional: Frontend URL for CORS (already in .env)
FRONTEND_URL=http://localhost:3000


# ============================================
# Frontend Configuration (apps/web)
# ============================================

# WebSocket Server URL
# Development: Use HTTP protocol
NEXT_PUBLIC_WS_URL=http://localhost:4000

# Production: Use WSS (WebSocket Secure) protocol
# NEXT_PUBLIC_WS_URL=wss://api.innovation-lab.com

# Note: The backend API runs on port 4000 by default
# WebSocket connections use the /ws namespace


# ============================================
# Production Deployment Notes
# ============================================

# For production, ensure:
# 1. Use WSS (WebSocket Secure) protocol
# 2. Update FRONTEND_URL in backend .env to production domain
# 3. Configure SSL/TLS certificates
# 4. Enable sticky sessions if using multiple API instances
# 5. Consider adding Redis adapter for horizontal scaling

# Example production config:
# Backend:
# FRONTEND_URL=https://innovation-lab.com
#
# Frontend:
# NEXT_PUBLIC_WS_URL=wss://api.innovation-lab.com


# ============================================
# Optional: Redis Adapter (for scaling)
# ============================================
# If you need to scale to multiple API instances,
# add Redis configuration:

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# Then install Redis adapter:
# pnpm add --filter @innovation-lab/api @socket.io/redis-adapter redis


# ============================================
# Testing Configuration
# ============================================
# For local testing with multiple devices on same network:
# 1. Find your local IP: ifconfig (Mac/Linux) or ipconfig (Windows)
# 2. Update NEXT_PUBLIC_WS_URL to use your IP
# Example: NEXT_PUBLIC_WS_URL=http://192.168.1.100:4000

# For testing with HTTPS locally (optional):
# 1. Generate self-signed certificate
# 2. Update URLs to use https/wss
# 3. Accept certificate in browser
